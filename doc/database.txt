addresses - таблица адресов. Адреса, фигурирующие как отправители и как получатели сообщений, все попадают в эту 
таблицу.
Адрес определяется в домене. На данный момент три домена: нетмейл, эха и файлэха. Для каждого левонета нужно заводить
ещё три таких домена. А нетмейле адрес - фидошный адрес, в доманах эх и файлэх - название этой эхи.
Благодаря этому все сообщения хранятся в одной таблице, различаясь лишь XML частью.
В файлэхе в тексте сообщения хранится длинное описание, сами файлы хранятся вне базы (имя указывается в заголовке).

Адреса могут быть сгруппированы (поинты к нодам, ноды к сетям) для упрощения нетмейловой подписки.

Тоссинга как такового нет, при сессии запрашивается список сообщений по каждой подписке, с номером превышающим отметку.
Отметка изменяется после получения информации о том, что пакет передан.
Подписки делятся на критические (vital) и обычные. Письмо должно быть доставлено по критической подписке, чтобы считать,
что оно не затерялось. Для нетмейла критическая подписка это узел, на который сообщение должно быть отмаршрутизировано,
для эх - это подписка аплинков или бонных пиров.

При потере одного из критических линков считается, что почта на него не доставлена. Поэтому при удалении критической 
подписки в таблицу deletedvitalsubscriptionwatermarks заносится номер наиболее старого сообщения, не прошедшего на 
этот адрес, если на других подписках нет более старого номера и эти подписки вообще есть, и при создании нового 
критического линка этот номер прописывается у него, затем удаляется из таблицы. Если при создании критического линка 
такой записи нет, берётся самый старый номер из имеющихся подписок.